<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Matplot画图 · Hexo</title><meta name="description" content="Matplot画图 - arlier"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="https:/arlier1.github.io/favicon.png"><link rel="stylesheet" href="https:/arlier1.github.io/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="/atom.xml" title="Hexo"></head><body><div class="wrap"><header><a href="https:/arlier1.github.io/" class="logo-link"><img src="https:/arlier1.github.io/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="https:/arlier1.github.io/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="https:/arlier1.github.io/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://arlier.work" target="_blank" class="nav-list-link">WORK</a></li><li class="nav-list-item"><a href="https://github.com/arlier" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="http://hithep.science" target="_blank" class="nav-list-link">HITHEP</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Matplot画图</h1><div class="post-info">Mar 14, 2017</div><div class="post-content"><p><img src="http://o98383o2a.bkt.clouddn.com/patplot.png" alt=""></p>
<h1 id="安装环境python"><a href="#安装环境python" class="headerlink" title="安装环境python"></a>安装环境python</h1> <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install python-numpy</div><div class="line">sudo apt-get install python-matplotlib</div></pre></td></tr></table></figure>
<p> 要显示中文在windows不太好弄，在linux设置字体和编码就可以了。<br> <figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#-*- coding: utf-8 -*-</span></div><div class="line"><span class="string">"""</span></div><div class="line">==========</div><div class="line">matplotlib</div><div class="line">==========</div><div class="line"></div><div class="line">Thanks to Tony Yu &lt;tsyu80@gmail.com&gt; for the logo design</div><div class="line">"""</div><div class="line"><span class="keyword">from</span> pylab <span class="keyword">import</span> matplotlib,mpl</div><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div><div class="line"><span class="keyword">import</span> matplotlib <span class="keyword">as</span> mpl</div><div class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</div><div class="line"><span class="keyword">import</span> matplotlib.cm <span class="keyword">as</span> cm</div><div class="line"><span class="keyword">from</span> matplotlib.font_manager <span class="keyword">import</span> FontManager</div><div class="line"><span class="keyword">import</span> subprocess</div><div class="line">myfont = matplotlib.font_manager.FontProperties(fname=<span class="string">'/usr/share/fonts/truetype/droid/DroidSansFallbackFull.ttf'</span>)</div><div class="line"><span class="comment"># mpl.rcParams['axes.unicode_minus'] = False</span></div><div class="line"><span class="comment"># pi = 3.1415926</span></div><div class="line"><span class="comment"># t = np.arange(-5*pi, 5*pi, 0.01)</span></div><div class="line"><span class="comment"># y = np.sin(t)/t</span></div><div class="line"><span class="comment"># plt.plot(t, y)</span></div><div class="line"><span class="comment"># plt.title(u'这里写的是中文',fontproperties=myfont) #指定字体</span></div><div class="line"><span class="comment"># plt.xlabel(u'X坐标',fontproperties=myfont)</span></div><div class="line"><span class="comment"># plt.ylabel(u'Y坐标',fontproperties=myfont)</span></div><div class="line"><span class="comment"># plt.show()</span></div><div class="line">mpl.rcParams[<span class="string">'xtick.labelsize'</span>] = <span class="number">10</span></div><div class="line">mpl.rcParams[<span class="string">'ytick.labelsize'</span>] = <span class="number">12</span></div><div class="line">mpl.rcParams[<span class="string">'axes.edgecolor'</span>] = <span class="string">'gray'</span></div><div class="line"></div><div class="line">axalpha = <span class="number">0.05</span></div><div class="line">figcolor = <span class="string">'white'</span></div><div class="line">dpi = <span class="number">80</span></div><div class="line">fig = plt.figure(figsize=(<span class="number">6</span>, <span class="number">1.1</span>), dpi=dpi)</div><div class="line">fig.figurePatch.set_edgecolor(figcolor)</div><div class="line">fig.figurePatch.set_facecolor(figcolor)</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_math_background</span><span class="params">()</span>:</span></div><div class="line">    ax = fig.add_axes([<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">1.</span>, <span class="number">1.</span>])</div><div class="line"></div><div class="line">    text = []</div><div class="line">    text.append(</div><div class="line">        (<span class="string">r"$W^&#123;3\beta&#125;_&#123;\delta_1 \rho_1 \sigma_2&#125; = "</span></div><div class="line">         <span class="string">r"U^&#123;3\beta&#125;_&#123;\delta_1 \rho_1&#125; + \frac&#123;1&#125;&#123;8 \pi 2&#125;"</span></div><div class="line">         <span class="string">r"\int^&#123;\alpha_2&#125;_&#123;\alpha_2&#125; d \alpha^\prime_2 "</span></div><div class="line">         <span class="string">r"\left[\frac&#123; U^&#123;2\beta&#125;_&#123;\delta_1 \rho_1&#125; - "</span></div><div class="line">         <span class="string">r"\alpha^\prime_2U^&#123;1\beta&#125;_&#123;\rho_1 \sigma_2&#125; "</span></div><div class="line">         <span class="string">r"&#125;&#123;U^&#123;0\beta&#125;_&#123;\rho_1 \sigma_2&#125;&#125;\right]$"</span>, (<span class="number">0.7</span>, <span class="number">0.2</span>), <span class="number">20</span>))</div><div class="line">    text.append((<span class="string">r"$\frac&#123;d\rho&#125;&#123;d t&#125; + \rho \vec&#123;v&#125;\cdot\nabla\vec&#123;v&#125; "</span></div><div class="line">                 <span class="string">r"= -\nabla p + \mu\nabla^2 \vec&#123;v&#125; + \rho \vec&#123;g&#125;$"</span>,</div><div class="line">                 (<span class="number">0.35</span>, <span class="number">0.9</span>), <span class="number">20</span>))</div><div class="line">    text.append((<span class="string">r"$\int_&#123;-\infty&#125;^\infty e^&#123;-x^2&#125;dx=\sqrt&#123;\pi&#125;$"</span>,</div><div class="line">                 (<span class="number">0.15</span>, <span class="number">0.3</span>), <span class="number">25</span>))</div><div class="line">    text.append((<span class="string">r"$F_G = G\frac&#123;m_1m_2&#125;&#123;r^2&#125;$"</span>,</div><div class="line">                 (<span class="number">0.85</span>, <span class="number">0.7</span>), <span class="number">30</span>))</div><div class="line">    <span class="keyword">for</span> eq, (x, y), size <span class="keyword">in</span> text:</div><div class="line">        ax.text(x, y, eq, ha=<span class="string">'center'</span>, va=<span class="string">'center'</span>, color=<span class="string">"#11557c"</span>,</div><div class="line">                alpha=<span class="number">0.25</span>, transform=ax.transAxes, fontsize=size)</div><div class="line">    ax.set_axis_off()</div><div class="line">    <span class="keyword">return</span> ax</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_matplotlib_text</span><span class="params">(ax)</span>:</span></div><div class="line">    ax.text(<span class="number">0.95</span>, <span class="number">0.5</span>,<span class="string">u'我的第一张ｍａｔｐｌｏｔ的图'</span>,fontproperties=myfont, color=<span class="string">'#11557c'</span>, fontsize=<span class="number">15</span>,</div><div class="line">            ha=<span class="string">'right'</span>, va=<span class="string">'center'</span>, alpha=<span class="number">1.0</span>, transform=ax.transAxes)</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_polar_bar</span><span class="params">()</span>:</span></div><div class="line">    ax = fig.add_axes([<span class="number">0.025</span>, <span class="number">0.075</span>, <span class="number">0.2</span>, <span class="number">0.85</span>], projection=<span class="string">'polar'</span>)</div><div class="line"></div><div class="line">    ax.axesPatch.set_alpha(axalpha)</div><div class="line">    ax.set_axisbelow(<span class="keyword">True</span>)</div><div class="line">    N = <span class="number">7</span></div><div class="line">    arc = <span class="number">2.</span> * np.pi</div><div class="line">    theta = np.arange(<span class="number">0.0</span>, arc, arc/N)</div><div class="line">    radii = <span class="number">10</span> * np.array([<span class="number">0.2</span>, <span class="number">0.6</span>, <span class="number">0.8</span>, <span class="number">0.7</span>, <span class="number">0.4</span>, <span class="number">0.5</span>, <span class="number">0.8</span>])</div><div class="line">    width = np.pi / <span class="number">4</span> * np.array([<span class="number">0.4</span>, <span class="number">0.4</span>, <span class="number">0.6</span>, <span class="number">0.8</span>, <span class="number">0.2</span>, <span class="number">0.5</span>, <span class="number">0.3</span>])</div><div class="line">    bars = ax.bar(theta, radii, width=width, bottom=<span class="number">0.0</span>)</div><div class="line">    <span class="keyword">for</span> r, bar <span class="keyword">in</span> zip(radii, bars):</div><div class="line">        bar.set_facecolor(cm.jet(r/<span class="number">10.</span>))</div><div class="line">        bar.set_alpha(<span class="number">0.6</span>)</div><div class="line"></div><div class="line">    <span class="keyword">for</span> label <span class="keyword">in</span> ax.get_xticklabels() + ax.get_yticklabels():</div><div class="line">        label.set_visible(<span class="keyword">True</span>)</div><div class="line"></div><div class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> ax.get_ygridlines() + ax.get_xgridlines():</div><div class="line">        line.set_lw(<span class="number">0.8</span>)</div><div class="line">        line.set_alpha(<span class="number">0.9</span>)</div><div class="line">        line.set_ls(<span class="string">'-'</span>)</div><div class="line">        line.set_color(<span class="string">'0.5'</span>)</div><div class="line"></div><div class="line">    ax.set_yticks(np.arange(<span class="number">1</span>, <span class="number">9</span>, <span class="number">2</span>))</div><div class="line">    ax.set_rmax(<span class="number">9</span>)</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    main_axes = add_math_background()</div><div class="line">    add_polar_bar()</div><div class="line">    add_matplotlib_text(main_axes)</div><div class="line">    plt.show()</div></pre></td></tr></table></figure></p>
</div></article></div></main><footer><div class="paginator"><a href="https:/arlier1.github.io/2017/03/08/无能者无所求/" class="prev">PREV</a><a href="https:/arlier1.github.io/2017/04/03/拯救我的360云盘/" class="next">NEXT</a></div><div class="copyright"><p>© 2016 - 2017 <a href="">arlier</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>